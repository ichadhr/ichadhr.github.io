{"version":3,"sources":["init.js"],"names":["jQuery","document","ready","$","R5","s","c","b","i","length","a","charCodeAt","z","String","fromCharCode","charAt","join","R13","A","Z","leftKeyPressed","getElementById","click","rightKeyPressed","checkShortcuts","events","event","keyCode","docReady","readyState","$toggle","$dropdown","$overlay","nanobar","Nanobar","auto","removeClass","on","this","attr","t","responsiveMenu","target","data","addClass","period_sesion","each","affix","offset","top","hashLink","$el","id","prepend","html","scrollTop","e","preventDefault","animate","go","reframe","lazy","onkeydown","Barba","Pjax","Dom","wrapperId","containerClass","ignoreClassLink","cacheEnabled","init","LetsMove","BaseTransition","extend","start","Promise","all","newContainerLoading","letProgress","then","movePages","bind","_this","newContainer","oldContainer","hide","css","visibility","opacity","done","window","scroll","Dispatcher","currentStatus","oldStatus","container","Articel","BaseView","namespace","onEnter","onEnterCompleted","Post","getTransition"],"mappings":"AAAAA,OAAOC,UAAUC,MAAM,SAASC,GAM5B,GAMIC,GAAK,SAASC,GAMd,IALA,GACIC,GADAC,KACGC,EAAIH,EAAEI,OACTC,EAAI,IAAIC,aACRC,EAAIF,EAAI,GAELF,KACHF,EAAID,EAAEM,WAAWH,GAEbD,EAAEC,GADFF,GAAKI,GAAKJ,EAAIM,EACPC,OAAOC,cAAeR,EAAII,EAAI,GAAK,GAAQA,GAE3CL,EAAEU,OAAOP,EAIxB,OAAOD,GAAES,KAAK,KAGdC,EAAM,SAASZ,GAQX,IAPA,GACIC,GADAC,KACGC,EAAIH,EAAEI,OACTC,EAAI,IAAIC,aACRC,EAAIF,EAAI,GACRQ,EAAI,IAAIP,aACRQ,EAAID,EAAI,GAELV,KACHF,EAAID,EAAEM,WAAWH,GAEbD,EAAEC,GADFF,GAAKI,GAAKJ,EAAIM,EACPC,OAAOC,cAAeR,EAAII,EAAI,IAAM,GAAQA,GAC5CJ,GAAKY,GAAKZ,EAAIa,EACdN,OAAOC,cAAeR,EAAIY,EAAI,IAAM,GAAQA,GAE5Cb,EAAEU,OAAOP,EAIxB,OAAOD,GAAES,KAAK,KASlBI,EAAiB,WACjBnB,SAASoB,eAAe,UAAUC,SAGlCC,EAAkB,WAClBtB,SAASoB,eAAe,UAAUC,SAGlCE,EAAiB,SAASC,GAC1B,OAAQC,MAAMC,SACV,IAAK,IACDP,GACA,MACJ,KAAK,IACDG,MAQRK,EAAW,WACX,MAA4B,aAAxB3B,SAAS4B,YAYbC,EAAU3B,EAAE,WACZ4B,EAAY5B,EAAE,uBACd6B,EAAW7B,EAAE,YAgBb8B,EAAU,GAAIC,QAClBD,GAAQE,OAGRhC,EAAE,QAAQmB,MAAM,WACZnB,EAAE,cAAciC,YAAY,YAIhCjC,EAAE,cAAckC,GAAG,QAAS,WACxBlC,EAAE,cAAciC,YAAY,UAC5BjC,EAAEmC,MAAMC,KAAK,QAAS,YAI1BpC,EAAE,gBAAgBoC,KAAK,OAxHf,SAASlC,GAEb,MAAOY,GAAIb,EAAGC,KAsHemC,4BAGjC,IAAIC,GAAiB,WAEjBX,EAAQR,MAAM,WACV,GAAIoB,GAASvC,EAAEmC,MAAMK,KAAK,SAC1BxC,GAAE,QAAQyC,SAASF,EAAS,WAGhCX,EAAUT,MAAM,WACZnB,EAAE,QAAQiC,YAAY,8BAG1BJ,EAASV,MAAM,WACXnB,EAAE,QAAQiC,YAAY,+BAM1BS,EAAgB,WAChB1C,EAAE,kBAAkB2C,KAAK,WACrB3C,EAAEmC,MAAMS,OACJC,QACIC,IAAK9C,EAAEmC,MAAMU,SAASC,SAKlC9C,EAAE,WAAW2C,KAAK,WACd3C,EAAEmC,MAAMS,OACJC,QACIC,IAAK9C,EAAEmC,MAAMU,SAASC,UAOlCC,EAAW,WAEK/C,EAAE,4BAER2C,KAAK,WACX,GAAIK,GAAMhD,EAAEmC,MACRc,EAAKD,EAAIZ,KAAK,KACda,IACAD,EAAIE,QACAlD,EAAE,SACDyC,SAAS,UACTL,KAAK,OAAQ,IAAMa,GACnBE,KAAK,SAOlBC,EAAY,WAEZpD,EAAE,QAAQkC,GAAG,QAAS,SAASmB,GAC3BA,EAAEC,iBACFtD,EAAE,aAAauD,SACXH,UAAW,GACZ,SAKA,WAGH3B,GACAK,EAAQ0B,GAAG,KAGfJ,IACAL,IACAL,IACAJ,IACAmB,QAAQ,UACRzD,EAAE,YAAY0D,OAEd5D,SAAS6D,UAAYtC,KAYzBuC,MAAMC,KAAKC,IAAIC,UAAY,iBAC3BH,MAAMC,KAAKC,IAAIE,eAAiB,iBAChCJ,MAAMC,KAAKI,gBAAkB,SAC7BL,MAAMC,KAAKK,cAAe,EAG1BN,MAAMC,KAAKM,MAEX,IAAIC,GAAWR,MAAMS,eAAeC,QAChCC,MAAO,WAEHC,QACKC,KAAKtC,KAAKuC,oBAAqBvC,KAAKwC,gBACpCC,KAAKzC,KAAK0C,UAAUC,KAAK3C,QAGlCwC,YAAa,WAET7C,EAAQE,QAKZ6C,UAAW,WAOP,GAAIE,GAAQ5C,KACRa,EAAMhD,EAAEmC,KAAK6C,aAEjBhF,GAAEmC,KAAK8C,cAAcC,OAErBlC,EAAImC,KACAC,WAAY,UACZC,QAAS,IAKbrC,EAAIO,SACA8B,QAAS,GACV,IAAK,WAMJN,EAAMO,SAKVC,OAAOC,OAAO,EAAG,KAMzB5B,OAAM6B,WAAWvD,GAAG,eAAgB,SAASwD,EAAeC,EAAWC,GAGnEtD,IAGAmB,QAAQ,UAGRzD,EAAE,YAAY0D,OAGd5B,EAAQ0B,GAAG,MAIf,IAOIqC,IAPWjC,MAAMkC,SAASxB,QAC1ByB,UAAW,QACXC,QAAS,eAKCpC,MAAMkC,SAASxB,QACzByB,UAAW,WACXC,QAAS,aAGTC,iBAAkB,WAEdvD,QAmBJwD,GAdWtC,MAAMkC,SAASxB,QAC1ByB,UAAW,aACXC,QAAS,eAKDpC,MAAMkC,SAASxB,QACvByB,UAAW,QACXC,QAAS,eAKFpC,MAAMkC,SAASxB,QACtByB,UAAW,OACXC,QAAS,aAGTC,iBAAkB,WAGdlD,IAGAK,IAGAtD,SAAS6D,UAAYtC,KAK7BuC,OAAMC,KAAKsC,cAAgB,WAGvB,MAAO/B,IAIXyB,EAAQ1B,OAGR+B,EAAK/B","file":"../init.min.js","sourcesContent":["jQuery(document).ready(function($) {\r\n\r\n    /*\r\n     *  Begin add link email to contact (biar gaak kena spam)\r\n     */\r\n\r\n    var R = function(s) {\r\n\r\n        return R13(R5(s));\r\n\r\n    };\r\n\r\n    var R5 = function(s) {\r\n        var b = [],\r\n            c, i = s.length,\r\n            a = '0'.charCodeAt(),\r\n            z = a + 10;\r\n\r\n        while (i--) {\r\n            c = s.charCodeAt(i);\r\n            if (c >= a && c < z) {\r\n                b[i] = String.fromCharCode(((c - a + 5) % (10)) + a);\r\n            } else {\r\n                b[i] = s.charAt(i);\r\n            }\r\n        }\r\n\r\n        return b.join('');\r\n    };\r\n\r\n    var R13 = function(s) {\r\n            var b = [],\r\n                c, i = s.length,\r\n                a = 'a'.charCodeAt(),\r\n                z = a + 26,\r\n                A = 'A'.charCodeAt(),\r\n                Z = A + 26;\r\n\r\n            while (i--) {\r\n                c = s.charCodeAt(i);\r\n                if (c >= a && c < z) {\r\n                    b[i] = String.fromCharCode(((c - a + 13) % (26)) + a);\r\n                } else if (c >= A && c < Z) {\r\n                    b[i] = String.fromCharCode(((c - A + 13) % (26)) + A);\r\n                } else {\r\n                    b[i] = s.charAt(i);\r\n                }\r\n            }\r\n\r\n            return b.join('');\r\n        };\r\n\r\n\r\n    /*\r\n     *  End add link email to contact\r\n     */\r\n\r\n    // function keyboard shortcut previous (left) and next (right) navigation\r\n    var leftKeyPressed = function() {\r\n        document.getElementById(\"pgprev\").click();\r\n    };\r\n\r\n    var rightKeyPressed = function() {\r\n        document.getElementById(\"pgnext\").click();\r\n    };\r\n\r\n    var checkShortcuts = function(events) {\r\n        switch (event.keyCode) {\r\n            case 37:\r\n                leftKeyPressed();\r\n                break;\r\n            case 39:\r\n                rightKeyPressed();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n    // function check document and all sub-resources have finished loading\r\n    var docReady = function() {\r\n        if (document.readyState === \"complete\") {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    /*\r\n     *  Define variables\r\n     */\r\n\r\n    // responsive menu\r\n    var $toggle = $('.toggle');\r\n    var $dropdown = $('.dropdown-menu li a');\r\n    var $overlay = $('#overlay');\r\n\r\n    // encrypt email\r\n    var t = 'znvygb:';\r\n    var m = 'vpunque@tznvy.pbz';\r\n\r\n    /*\r\n     *  End define variables\r\n     */\r\n\r\n    /*\r\n     *  Executed function on first landing\r\n     */\r\n\r\n\r\n    // init nano bar\r\n    var nanobar = new Nanobar();\r\n    nanobar.auto();\r\n\r\n    // remove active menu\r\n    $('a.rc').click(function() {\r\n        $('#menu li a').removeClass('active');\r\n    });\r\n\r\n    // active menu\r\n    $('#menu li a').on('click', function() {\r\n        $('#menu li a').removeClass('active');\r\n        $(this).attr('class', 'active');\r\n    });\r\n\r\n    // add email on menu\r\n    $('li#contact a').attr('href', R(t + m));\r\n\r\n    // responsive menu\r\n    var responsiveMenu = function() {\r\n        // responsive menu\r\n        $toggle.click(function() {\r\n            var target = $(this).data('target');\r\n            $('html').addClass(target + '-open');\r\n        });\r\n\r\n        $dropdown.click(function() {\r\n            $('html').removeClass('menu-open elsewhere-open');\r\n        });\r\n\r\n        $overlay.click(function() {\r\n            $('html').removeClass('menu-open elsewhere-open');\r\n        });\r\n        // end responsive menu\r\n    };\r\n\r\n    // affix year, season & periods\r\n    var period_sesion = function() {\r\n        $('.year, .season').each(function() {\r\n            $(this).affix({\r\n                offset: {\r\n                    top: $(this).offset().top\r\n                }\r\n            });\r\n        });\r\n\r\n        $('.period').each(function() {\r\n            $(this).affix({\r\n                offset: {\r\n                    top: $(this).offset().top\r\n                }\r\n            });\r\n        });\r\n    };\r\n\r\n    // hash link for h2 & h3\r\n    var hashLink = function() {\r\n        // for hash link\r\n        var $headings = $('#content h2, #content h3');\r\n\r\n        $headings.each(function() {\r\n            var $el = $(this);\r\n            var id = $el.attr('id');\r\n            if (id) {\r\n                $el.prepend(\r\n                    $('<a />')\r\n                    .addClass('anchor')\r\n                    .attr('href', '#' + id)\r\n                    .html('#')\r\n                );\r\n            }\r\n        });\r\n    };\r\n\r\n    // scroll to  top\r\n    var scrollTop = function() {\r\n        // scroll top for post page\r\n        $('#top').on('click', function(e) {\r\n            e.preventDefault();\r\n            $('body,html').animate({\r\n                scrollTop: 0\r\n            }, 700);\r\n        });\r\n    };\r\n\r\n    // execute function\r\n    var init = function() {\r\n\r\n        // finish loading ?\r\n        if (docReady) {\r\n            nanobar.go(100);\r\n        }\r\n\r\n        scrollTop(); // Scroll to top\r\n        hashLink(); // Hashlink\r\n        period_sesion(); // Period & Session\r\n        responsiveMenu(); // Responsive Menu\r\n        reframe('iframe'); // Iframe responsive\r\n        $('img.lazy').lazy(); // Lazy load\r\n\r\n        document.onkeydown = checkShortcuts; // keyboard shortcut previous (left) and next (right) navigation\r\n    };\r\n\r\n    // run init\r\n    init();\r\n\r\n    /*\r\n     *  End executed function on first landing\r\n     */\r\n\r\n\r\n    // barba js\r\n    Barba.Pjax.Dom.wrapperId = 'main-container';\r\n    Barba.Pjax.Dom.containerClass = 'wrap-container';\r\n    Barba.Pjax.ignoreClassLink = 'nopjax';\r\n    Barba.Pjax.cacheEnabled = false;\r\n\r\n\r\n    Barba.Pjax.init();\r\n\r\n    var LetsMove = Barba.BaseTransition.extend({\r\n        start: function() {\r\n\r\n            Promise\r\n                .all([this.newContainerLoading, this.letProgress()])\r\n                .then(this.movePages.bind(this));\r\n        },\r\n\r\n        letProgress: function() {\r\n\r\n            nanobar.auto();\r\n\r\n        },\r\n\r\n\r\n        movePages: function() {\r\n            /**\r\n             * this.newContainer is the HTMLElement of the new Container\r\n             * At this stage newContainer is on the DOM (inside our #barba-container and with visibility: hidden)\r\n             * Please note, newContainer is available just after newContainerLoading is resolved!\r\n             */\r\n\r\n            var _this = this;\r\n            var $el = $(this.newContainer);\r\n\r\n            $(this.oldContainer).hide();\r\n\r\n            $el.css({\r\n                visibility: 'visible',\r\n                opacity: 0\r\n            });\r\n\r\n\r\n\r\n            $el.animate({\r\n                opacity: 1\r\n            }, 500, function() {\r\n                /**\r\n                 * Do not forget to call .done() as soon your transition is finished!\r\n                 * .done() will automatically remove from the DOM the old Container\r\n                 */\r\n\r\n                _this.done();\r\n\r\n            });\r\n\r\n            // scroll page to top\r\n            window.scroll(0, 0);\r\n\r\n        }\r\n    });\r\n\r\n\r\n    Barba.Dispatcher.on('newPageReady', function(currentStatus, oldStatus, container) {\r\n\r\n        // Responsive menu\r\n        responsiveMenu();\r\n\r\n        // iframe responsive\r\n        reframe('iframe');\r\n\r\n        // lazy load\r\n        $('img.lazy').lazy();\r\n\r\n        // finish loading bar\r\n        nanobar.go(100);\r\n\r\n    });\r\n\r\n    var Homepage = Barba.BaseView.extend({\r\n        namespace: 'index',\r\n        onEnter: function() {\r\n\r\n        }\r\n    });\r\n\r\n    var Articel = Barba.BaseView.extend({\r\n        namespace: 'articles',\r\n        onEnter: function() {\r\n\r\n        },\r\n        onEnterCompleted: function() {\r\n\r\n            period_sesion(); // Period & Session\r\n\r\n        }\r\n    });\r\n\r\n    var Favorite = Barba.BaseView.extend({\r\n        namespace: 'favourites',\r\n        onEnter: function() {\r\n\r\n        }\r\n    });\r\n\r\n    var Links = Barba.BaseView.extend({\r\n        namespace: 'links',\r\n        onEnter: function() {\r\n\r\n        }\r\n    });\r\n\r\n    var Post = Barba.BaseView.extend({\r\n        namespace: 'post',\r\n        onEnter: function() {\r\n\r\n        },\r\n        onEnterCompleted: function() {\r\n\r\n            //  Hash link\r\n            hashLink();\r\n\r\n            // Scroll to top\r\n            scrollTop();\r\n\r\n            // keyboard shortcut previous (left) and next (right) navigation\r\n            document.onkeydown = checkShortcuts;\r\n\r\n        }\r\n    });\r\n\r\n    Barba.Pjax.getTransition = function() {\r\n\r\n        // call transition\r\n        return LetsMove;\r\n    };\r\n\r\n    // Homepage.init();\r\n    Articel.init();\r\n    // Favorite.init();\r\n    // Links.init();\r\n    Post.init();\r\n\r\n});"]}