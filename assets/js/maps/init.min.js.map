{"version":3,"sources":["init.js"],"names":["jQuery","document","ready","$","R","s","R13","R5","c","b","i","length","a","charCodeAt","z","String","fromCharCode","charAt","join","A","Z","docReady","readyState","nanobar","Nanobar","autoRun","go","click","removeClass","on","this","attr","Barba","Pjax","Dom","wrapperId","containerClass","ignoreClassLink","cacheEnabled","init","LetsMove","BaseTransition","extend","start","Promise","all","newContainerLoading","letProgress","then","movePages","bind","auto","_this","$el","newContainer","oldContainer","hide","css","visibility","opacity","animate","done","window","scroll","Dispatcher","currentStatus","oldStatus","container","t","$toggle","$dropdown","$overlay","target","data","addClass","reframe","unveil","Articel","BaseView","namespace","onEnter","onEnterCompleted","each","affix","offset","top","Post","checkShortcuts","event","keyCode","leftKeyPressed","rightKeyPressed","getElementById","id","prepend","html","e","preventDefault","scrollTop","onkeydown","getTransition"],"mappings":"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","file":"../init.min.js","sourcesContent":["jQuery(document).ready(function($) {\r\n\r\n    /*\r\n     *  Begin add link email to contact (biar gaak kena spam)\r\n     */\r\n    function R(s) {\r\n        return R13(R5(s));\r\n    }\r\n\r\n    function R5(s) {\r\n        var b = [],\r\n            c, i = s.length,\r\n            a = '0'.charCodeAt(),\r\n            z = a + 10;\r\n\r\n        while (i--) {\r\n            c = s.charCodeAt(i);\r\n            if (c >= a && c < z) {\r\n                b[i] = String.fromCharCode(((c - a + 5) % (10)) + a);\r\n            } else {\r\n                b[i] = s.charAt(i);\r\n            }\r\n        }\r\n\r\n        return b.join('');\r\n    }\r\n\r\n    function R13(s) {\r\n        var b = [],\r\n            c, i = s.length,\r\n            a = 'a'.charCodeAt(),\r\n            z = a + 26,\r\n            A = 'A'.charCodeAt(),\r\n            Z = A + 26;\r\n\r\n        while (i--) {\r\n            c = s.charCodeAt(i);\r\n            if (c >= a && c < z) {\r\n                b[i] = String.fromCharCode(((c - a + 13) % (26)) + a);\r\n            } else if (c >= A && c < Z) {\r\n                b[i] = String.fromCharCode(((c - A + 13) % (26)) + A);\r\n            } else {\r\n                b[i] = s.charAt(i);\r\n            }\r\n        }\r\n\r\n        return b.join('');\r\n    }\r\n\r\n    // function check document and all sub-resources have finished loading\r\n    var docReady = function() {\r\n        if (document.readyState === \"complete\") {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    // loading bar\r\n    var nanobar = new Nanobar({\r\n        autoRun: true\r\n    });\r\n\r\n    // finish loading ?\r\n    if (docReady) {\r\n        nanobar.go(100);\r\n    }\r\n\r\n    /*\r\n     *  End add link email to contact\r\n     */\r\n\r\n    // encrypt email\r\n    var t = 'znvygb:'\r\n    var m = 'vpunque@tznvy.pbz';\r\n    // end encrypt email\r\n\r\n    // remove active menu\r\n    $('a.rc').click(function() {\r\n        $('#menu li a').removeClass('active');\r\n    });\r\n\r\n    // active menu\r\n    $('#menu li a').on('click', function() {\r\n        $('#menu li a').removeClass('active');\r\n        $(this).attr('class', 'active');\r\n    });\r\n\r\n    var lastElementClicked;\r\n\r\n    Barba.Pjax.Dom.wrapperId = 'main-container';\r\n    Barba.Pjax.Dom.containerClass = 'wrap-container';\r\n    Barba.Pjax.ignoreClassLink = 'nopjax';\r\n    Barba.Pjax.cacheEnabled = false;\r\n\r\n\r\n    Barba.Pjax.init();\r\n    // Barba.Prefetch.init();\r\n\r\n    // Barba.Pjax.start();\r\n\r\n    var LetsMove = Barba.BaseTransition.extend({\r\n        start: function() {\r\n\r\n            Promise\r\n                .all([this.newContainerLoading, this.letProgress()])\r\n                .then(this.movePages.bind(this));\r\n        },\r\n\r\n        letProgress: function() {\r\n\r\n            nanobar.auto();\r\n            // $(this.oldContainer).animate({\r\n            //     opacity: 0\r\n            // }).promise();\r\n\r\n        },\r\n\r\n\r\n        movePages: function() {\r\n            /**\r\n             * this.newContainer is the HTMLElement of the new Container\r\n             * At this stage newContainer is on the DOM (inside our #barba-container and with visibility: hidden)\r\n             * Please note, newContainer is available just after newContainerLoading is resolved!\r\n             */\r\n\r\n            var _this = this;\r\n            var $el = $(this.newContainer);\r\n\r\n            $(this.oldContainer).hide();\r\n\r\n            $el.css({\r\n                visibility: 'visible',\r\n                opacity: 0\r\n            });\r\n\r\n\r\n\r\n            $el.animate({\r\n                opacity: 1\r\n            }, 500, function() {\r\n                /**\r\n                 * Do not forget to call .done() as soon your transition is finished!\r\n                 * .done() will automatically remove from the DOM the old Container\r\n                 */\r\n\r\n                _this.done();\r\n\r\n            });\r\n\r\n            // scroll page to top\r\n            window.scroll(0, 0);\r\n\r\n        },\r\n        // getNewPageFile: function() {\r\n        //     return Barba.HistoryManager.currentStatus().url.split('/').pop();\r\n        // }\r\n    });\r\n\r\n\r\n    Barba.Dispatcher.on('newPageReady', function(currentStatus, oldStatus, container) {\r\n\r\n        // add email on menu\r\n        $('li#contact a').attr('href', R(t + m));\r\n\r\n        // responsive menu\r\n        var $toggle = $('.toggle');\r\n        var $dropdown = $('.dropdown-menu li a');\r\n        var $overlay = $('#overlay');\r\n\r\n        $toggle.click(function() {\r\n            var target = $(this).data('target');\r\n            $('html').addClass(target + '-open');\r\n        });\r\n\r\n        $dropdown.click(function() {\r\n            $('html').removeClass('menu-open elsewhere-open');\r\n        });\r\n\r\n        $overlay.click(function() {\r\n            $('html').removeClass('menu-open elsewhere-open');\r\n        });\r\n        // end responsive menu\r\n\r\n        // iframe responsive\r\n        reframe('iframe');\r\n\r\n        // lazy load\r\n        $('img.lazy').unveil();\r\n\r\n        // finish loading bar\r\n        nanobar.go(100);\r\n\r\n    });\r\n\r\n    var Homepage = Barba.BaseView.extend({\r\n        namespace: 'index',\r\n        onEnter: function() {\r\n\r\n        }\r\n    });\r\n\r\n    var Articel = Barba.BaseView.extend({\r\n        namespace: 'articles',\r\n        onEnter: function() {\r\n\r\n\r\n        },\r\n        onEnterCompleted: function() {\r\n            // Periods\r\n            $('.year, .season').each(function() {\r\n                $(this).affix({\r\n                    offset: {\r\n                        top: $(this).offset().top\r\n                    }\r\n                });\r\n            });\r\n\r\n            $('.period').each(function() {\r\n                $(this).affix({\r\n                    offset: {\r\n                        top: $(this).offset().top\r\n                    }\r\n                });\r\n            });\r\n\r\n        }\r\n    });\r\n\r\n    var Favorite = Barba.BaseView.extend({\r\n        namespace: 'favourites',\r\n        onEnter: function() {\r\n\r\n\r\n        }\r\n    });\r\n\r\n    var Links = Barba.BaseView.extend({\r\n        namespace: 'links',\r\n        onEnter: function() {\r\n\r\n\r\n        }\r\n    });\r\n\r\n    var Post = Barba.BaseView.extend({\r\n        namespace: 'post',\r\n        onEnter: function() {\r\n\r\n\r\n        },\r\n        onEnterCompleted: function() {\r\n            var $headings = $('#content h2, #content h3');\r\n\r\n            $headings.each(function() {\r\n                var $el = $(this);\r\n                var id = $el.attr('id');\r\n                if (id) {\r\n                    $el.prepend(\r\n                        $('<a />')\r\n                        .addClass('anchor')\r\n                        .attr('href', '#' + id)\r\n                        .html('#')\r\n                    );\r\n                }\r\n            });\r\n\r\n            $('#top').on('click', function(e) {\r\n                e.preventDefault();\r\n                $('body,html').animate({\r\n                    scrollTop: 0\r\n                }, 700);\r\n            });\r\n\r\n            // keyboard shortcut previous (left) and next (right) navigation\r\n            document.onkeydown = checkShortcuts;\r\n\r\n            function checkShortcuts(event) {\r\n                switch (event.keyCode) {\r\n                    case 37:\r\n                        leftKeyPressed();\r\n                        break;\r\n                    case 39:\r\n                        rightKeyPressed();\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n\r\n            function leftKeyPressed() {\r\n                document.getElementById(\"pgprev\").click();\r\n            }\r\n\r\n            function rightKeyPressed() {\r\n                document.getElementById(\"pgnext\").click();\r\n            }\r\n        }\r\n    });\r\n\r\n    Barba.Pjax.getTransition = function() {\r\n\r\n        // call transition\r\n        return LetsMove;\r\n    };\r\n\r\n    // Homepage.init();\r\n    Articel.init();\r\n    // Favorite.init();\r\n    // Links.init();\r\n    Post.init();\r\n\r\n\r\n\r\n\r\n});"]}