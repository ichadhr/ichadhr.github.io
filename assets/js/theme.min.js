!function(t){"use strict";t.Zebra_Tooltips=function(e,o){var i,n,r,s,l={animation_speed:250,animation_offset:20,background_color:"#000",close_on_click:!0,color:"#FFF",content:!1,default_position:"above",hide_delay:100,keep_visible:!0,max_width:250,opacity:".95",position:"center",prerender:!1,show_delay:100,vertical_offset:0,onBeforeHide:null,onHide:null,onBeforeShow:null,onShow:null},a=this;a.settings={},a.hide=function(e,o){e.each(function(){var e=t(this),i=e.data("Zebra_Tooltip");i&&(i.sticky=!1,o&&(i.destroy=!0),e.data("Zebra_Tooltip",i),u(e))})},a.show=function(e,o){e.each(function(){var e=t(this),i=e.data("Zebra_Tooltip");i&&(i.sticky=!0,i.muted=!1,o&&(i.destroy=!0),e.data("Zebra_Tooltip",i),h(e))})};var c=function(){a.settings=t.extend({},l,o),e.each(function(){var e=t(this),o=e.attr("title"),i=e.data("zebra-tooltip");(o&&""!==o||i&&""!==i||void 0!==a.settings.content)&&(e.bind({mouseenter:function(){o&&t(this).attr("title",""),h(e)},mouseleave:function(){u(e),o&&t(this).attr("title",o)}}),e.data("Zebra_Tooltip",{tooltip:null,content:i||o||"",window_resized:!0,window_scrolled:!0,show_timeout:null,hide_timeout:null,animation_offset:a.settings.animation_offset,sticky:!1,destroy:!1,muted:!1}),a.settings.prerender&&d(e))}),t(window).bind("scroll resize",function(o){e.each(function(){var e=t(this).data("Zebra_Tooltip");e&&("scroll"==o.type?e.window_scrolled=!0:e.window_resized=!0,t(this).data("Zebra_Tooltip",e))})})},d=function(e){var o=e.data("Zebra_Tooltip");if(!o.tooltip){var l=jQuery("<div>",{"class":"Zebra_Tooltip",css:{opacity:0,display:"block"}}),c=jQuery("<div>",{"class":"Zebra_Tooltip_Message",css:{"max-width":a.settings.max_width,"background-color":a.settings.background_color,color:a.settings.color}}).html(a.settings.content?a.settings.content:o.content).appendTo(l),d=jQuery("<div>",{"class":"Zebra_Tooltip_Arrow"}).appendTo(l),f=jQuery("<div>").appendTo(d);a.settings.keep_visible&&(l.bind("mouseleave"+(a.settings.close_on_click?" click":""),function(){u(e)}),l.bind("mouseenter",function(){h(e)})),l.appendTo("body");var p=l.outerWidth(),w=l.outerHeight(),m=f.outerWidth(),_=f.outerHeight(),g=c.outerWidth(),y=c.outerHeight();o={tooltip:l,tooltip_width:p,tooltip_height:w+_/2,message:c,arrow_container:d,arrow_width:m,arrow_height:_,arrow:f},l.css({width:o.tooltip_width,height:o.tooltip_height}),o.tooltip_width=o.tooltip_width+(c.outerWidth()-g),o.tooltip_height=o.tooltip_height+(c.outerHeight()-y),l.css({width:o.tooltip_width,height:o.tooltip_height,display:"none"}),o=t.extend(e.data("Zebra_Tooltip"),o),e.data("Zebra_Tooltip",o)}if(o.sticky&&!o.close&&(jQuery("<a>",{"class":"Zebra_Tooltip_Close",href:"javascript:void(0)"}).html("x").bind("click",function(t){t.preventDefault();var o=e.data("Zebra_Tooltip");o.sticky=!1,e.data("Zebra_Tooltip",o),u(e)}).appendTo(o.message),o.close=!0,o=t.extend(e.data("Zebra_Tooltip"),o),e.data("Zebra_Tooltip",o)),o.window_resized||o.window_scrolled){var v=t(window);if(o.window_resized){i=v.width(),n=v.height();var b=e.offset();t.extend(o,{element_left:b.left,element_top:b.top,element_width:e.outerWidth(),element_height:e.outerHeight()})}s=v.scrollTop(),r=v.scrollLeft();var x="left"==a.settings.position?o.element_left-o.tooltip_width+o.arrow_width:"right"==a.settings.position?o.element_left+o.element_width-o.arrow_width:o.element_left+(o.element_width-o.tooltip_width)/2,T=o.element_top-o.tooltip_height,k="left"==a.settings.position?o.tooltip_width-o.arrow_width-o.arrow_width/2:"right"==a.settings.position?o.arrow_width/2:(o.tooltip_width-o.arrow_width)/2;x+o.tooltip_width>i+r&&(k-=i+r-(x+o.tooltip_width)-6,x=i+r-o.tooltip_width-6,k+o.arrow_width>o.tooltip_width-6&&(k=o.tooltip_width-6-o.arrow_width),x+k+o.arrow_width/2<o.element_left&&(k=-1e4)),r>x&&(k-=r-x,x=r+2,0>k&&(k=o.arrow_width/2),x+k+o.arrow_width/2>o.element_left+o.element_width&&(k=-1e4)),o.arrow_container.removeClass("Zebra_Tooltip_Arrow_Top"),o.arrow_container.addClass("Zebra_Tooltip_Arrow_Bottom"),o.message.css("margin-top",""),o.arrow.css("borderColor",a.settings.background_color+" transparent transparent"),s>T||"below"==a.settings.default_position&&o.element_top+o.element_height+a.settings.vertical_offset+o.tooltip_height+o.animation_offset<n+s?(T=o.element_top+o.element_height-a.settings.vertical_offset,o.animation_offset=Math.abs(o.animation_offset),o.message.css("margin-top",o.arrow_height/2),o.arrow_container.removeClass("Zebra_Tooltip_Arrow_Bottom"),o.arrow_container.addClass("Zebra_Tooltip_Arrow_Top"),o.arrow.css("borderColor","transparent transparent "+a.settings.background_color)):(o.animation_offset=-Math.abs(o.animation_offset),T+=a.settings.vertical_offset),o.arrow_container.css("left",k),o.tooltip.css({left:x,top:T}),t.extend(o,{tooltip_left:x,tooltip_top:T,arrow_left:k}),o.window_resized=!1,o.window_scrolled=!1,o=t.extend(e.data("Zebra_Tooltip"),o),e.data("Zebra_Tooltip",o)}return o},u=function(e){var o=e.data("Zebra_Tooltip");clearTimeout(o.hide_timeout),o.sticky||(clearTimeout(o.show_timeout),o.hide_timeout=setTimeout(function(){o.tooltip&&(a.settings.onBeforeHide&&"function"==typeof a.settings.onBeforeHide&&a.settings.onBeforeHide(e,o.tooltip),o.close=!1,o.destroy&&(o.muted=!0),e.data("Zebra_Tooltip",o),t("a.Zebra_Tooltip_Close",o.tooltip).remove(),o.tooltip.stop(),o.tooltip.animate({opacity:0,top:o.tooltip_top+o.animation_offset},a.settings.animation_speed,function(){t(this).css("display","none"),a.settings.onHide&&"function"==typeof a.settings.onHide&&a.settings.onHide(e,o.tooltip)}))},a.settings.hide_delay))},h=function(t){var e=t.data("Zebra_Tooltip");clearTimeout(e.show_timeout),e.muted||(clearTimeout(e.hide_timeout),e.show_timeout=setTimeout(function(){e=d(t),a.settings.onBeforeShow&&"function"==typeof a.settings.onBeforeShow&&a.settings.onBeforeShow(t,e.tooltip),"block"!=e.tooltip.css("display")&&e.tooltip.css({top:e.tooltip_top+e.animation_offset}),e.tooltip.css("display","block"),e.tooltip.stop(),e.tooltip.animate({top:e.tooltip_top,opacity:a.settings.opacity},a.settings.animation_speed,function(){a.settings.onShow&&"function"==typeof a.settings.onShow&&a.settings.onShow(t,e.tooltip)})},a.settings.show_delay))};c()}}(jQuery),function(t){"use strict";t.fn.fitVids=function(e){var o={customSelector:null};if(!document.getElementById("fit-vids-style")){var i=document.createElement("div"),n=document.getElementsByTagName("base")[0]||document.getElementsByTagName("script")[0],r="&shy;<style>.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>";i.className="fit-vids-style",i.id="fit-vids-style",i.style.display="none",i.innerHTML=r,n.parentNode.insertBefore(i,n)}return e&&t.extend(o,e),this.each(function(){var e=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='google.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];o.customSelector&&e.push(o.customSelector);var i=t(this).find(e.join(","));i=i.not("object object"),i.each(function(){var e=t(this);if(!("embed"===this.tagName.toLowerCase()&&e.parent("object").length||e.parent(".fluid-width-video-wrapper").length)){var o="object"===this.tagName.toLowerCase()||e.attr("height")&&!isNaN(parseInt(e.attr("height"),10))?parseInt(e.attr("height"),10):e.height(),i=isNaN(parseInt(e.attr("width"),10))?e.width():parseInt(e.attr("width"),10),n=o/i;if(!e.attr("id")){var r="fitvid"+Math.floor(999999*Math.random());e.attr("id",r)}e.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),e.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(t,e,o,i){function n(e,o){this.element=e,this.options=t.extend({},s,o),this.scroll_timer=null,this._defaults=s,this._name=r,this.init()}var r="readingTime",s={bubble:"#scrollbubble"};n.prototype={init:function(){t(e).scroll(t.proxy(this.updateTime,this)),t('<div id="scrollbubble"></div>').appendTo("body"),t('<style>#scrollbubble{display:none;position:fixed;bottom:20px;right:20px;z-index:500;background-color:#F0F0F0;color:#808080;border-radius:3px;font-family:Consolas, Courier, monospace;font-size:12px;letter-spacing:1px;padding:10px 20px}#scrollbubble:after{content:" ";position:absolute;top:50%;right:-8px;height:0;width:0;margin-top:-4px;border:4px solid transparent;border-left-color:#F0F0F0}</style>').appendTo("body")},updateTime:function(){var i=0,n=t(this.options.bubble),r=t(this.element),s=t(e).height(),l=s/t(o).height()*s,a=t(e).scrollTop()/(t(o).height()-s),i=(a*(s-l)+l/2-n.height()/2,this.calculate_total_time_words(r,this.element)/60),c=Math.ceil(i-i*a),d="";c>1?d=c+" minutes left":a>=1?d="You're good":1>=c&&(d="almost done.."),n.text(d).fadeIn(500),null!==this.scroll_timer&&clearTimeout(this.scroll_timer),this.scroll_timer=setTimeout(function(){n.fadeOut()},1500)},calculate_total_time_words:function(e,o){var i=0;return e.each(function(){i+=Math.round(60*t(o).text().split(" ").length/200)}),i}},t.fn[r]=function(e){return this.each(function(){t.data(this,"plugin_"+r)||t.data(this,"plugin_"+r,new n(this,e))})}}(jQuery,window,document),function(){var t=[].indexOf||function(t){for(var e=0,o=this.length;o>e;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function(o){return e(o,t)}):e(t.jQuery,t)}(this,function(o,i){var n,r,s,l,a,c,d,u,h,f,p,w,m,_,g,y;return n=o(i),u=t.call(i,"ontouchstart")>=0,l={horizontal:{},vertical:{}},a=1,d={},c="waypoints-context-id",p="resize.waypoints",w="scroll.waypoints",m=1,_="waypoints-waypoint-ids",g="waypoint",y="waypoints",r=function(){function t(t){var e=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+a++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},t.data(c,this.id),d[this.id]=this,t.bind(w,function(){var t;return e.didScroll||u?void 0:(e.didScroll=!0,t=function(){return e.doScroll(),e.didScroll=!1},i.setTimeout(t,o[y].settings.scrollThrottle))}),t.bind(p,function(){var t;return e.didResize?void 0:(e.didResize=!0,t=function(){return o[y]("refresh"),e.didResize=!1},i.setTimeout(t,o[y].settings.resizeThrottle))})}return t.prototype.doScroll=function(){var t,e=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!u||t.vertical.oldScroll&&t.vertical.newScroll||o[y]("refresh"),o.each(t,function(t,i){var n,r,s;return s=[],r=i.newScroll>i.oldScroll,n=r?i.forward:i.backward,o.each(e.waypoints[t],function(t,e){var o,n;return i.oldScroll<(o=e.offset)&&o<=i.newScroll?s.push(e):i.newScroll<(n=e.offset)&&n<=i.oldScroll?s.push(e):void 0}),s.sort(function(t,e){return t.offset-e.offset}),r||s.reverse(),o.each(s,function(t,e){return e.options.continuous||t===s.length-1?e.trigger([n]):void 0})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,i,n=this;return i=o.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:i?0:e.left,contextScroll:i?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:i?0:e.top,contextScroll:i?0:this.oldScroll.y,contextDimension:i?o[y]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},o.each(t,function(t,e){return o.each(n.waypoints[t],function(t,i){var n,r,s,l,a;return n=i.options.offset,s=i.offset,r=o.isWindow(i.element)?0:i.$element.offset()[e.offsetProp],o.isFunction(n)?n=n.apply(i.element):"string"==typeof n&&(n=parseFloat(n),i.options.offset.indexOf("%")>-1&&(n=Math.ceil(e.contextDimension*n/100))),i.offset=r-e.contextOffset+e.contextScroll-n,i.options.onlyOnScroll&&null!=s||!i.enabled?void 0:null!==s&&s<(l=e.oldScroll)&&l<=i.offset?i.trigger([e.backward]):null!==s&&s>(a=e.oldScroll)&&a>=i.offset?i.trigger([e.forward]):null===s&&e.oldScroll>=i.offset?i.trigger([e.forward]):void 0})})},t.prototype.checkEmpty=function(){return o.isEmptyObject(this.waypoints.horizontal)&&o.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([p,w].join(" ")),delete d[this.id]):void 0},t}(),s=function(){function t(t,e,i){var n,r;i=o.extend({},o.fn[g].defaults,i),"bottom-in-view"===i.offset&&(i.offset=function(){var t;return t=o[y]("viewportHeight"),o.isWindow(e.element)||(t=e.$element.height()),t-o(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=i.horizontal?"horizontal":"vertical",this.callback=i.handler,this.context=e,this.enabled=i.enabled,this.id="waypoints"+m++,this.offset=null,this.options=i,e.waypoints[this.axis][this.id]=this,l[this.axis][this.id]=this,n=null!=(r=t.data(_))?r:[],n.push(this.id),t.data(_,n)}return t.prototype.trigger=function(t){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete l[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,i;return(i=o(t).data(_))?(e=o.extend({},l.horizontal,l.vertical),o.map(i,function(t){return e[t]})):[]},t}(),f={init:function(t,e){var i;return null==e&&(e={}),null==(i=e.handler)&&(e.handler=t),this.each(function(){var t,i,n,l;return t=o(this),n=null!=(l=e.context)?l:o.fn[g].defaults.context,o.isWindow(n)||(n=t.closest(n)),n=o(n),i=d[n.data(c)],i||(i=new r(n)),new s(t,i,e)}),o[y]("refresh"),this},disable:function(){return f._invoke(this,"disable")},enable:function(){return f._invoke(this,"enable")},destroy:function(){return f._invoke(this,"destroy")},prev:function(t,e){return f._traverse.call(this,t,e,function(t,e,o){return e>0?t.push(o[e-1]):void 0})},next:function(t,e){return f._traverse.call(this,t,e,function(t,e,o){return e<o.length-1?t.push(o[e+1]):void 0})},_traverse:function(t,e,n){var r,s;return null==t&&(t="vertical"),null==e&&(e=i),s=h.aggregate(e),r=[],this.each(function(){var e;return e=o.inArray(this,s[t]),n(r,e,s[t])}),this.pushStack(r)},_invoke:function(t,e){return t.each(function(){var t;return t=s.getWaypointsByElement(this),o.each(t,function(t,o){return o[e](),!0})}),this}},o.fn[g]=function(){var t,i;return i=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],f[i]?f[i].apply(this,t):o.isFunction(i)?f.init.apply(this,arguments):o.isPlainObject(i)?f.init.apply(this,[null,i]):i?o.error("The "+i+" method does not exist in jQuery Waypoints."):o.error("jQuery Waypoints needs a callback function or handler option.")},o.fn[g].defaults={context:i,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},h={refresh:function(){return o.each(d,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=i.innerHeight)?t:n.height()},aggregate:function(t){var e,i,n;return e=l,t&&(e=null!=(n=d[o(t).data(c)])?n.waypoints:void 0),e?(i={horizontal:[],vertical:[]},o.each(i,function(t,n){return o.each(e[t],function(t,e){return n.push(e)}),n.sort(function(t,e){return t.offset-e.offset}),i[t]=o.map(n,function(t){return t.element}),i[t]=o.unique(i[t])}),i):[]},above:function(t){return null==t&&(t=i),h._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=i),h._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=i),h._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=i),h._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return h._invoke("enable")},disable:function(){return h._invoke("disable")},destroy:function(){return h._invoke("destroy")},extendFn:function(t,e){return f[t]=e},_invoke:function(t){var e;return e=o.extend({},l.vertical,l.horizontal),o.each(e,function(e,o){return o[t](),!0})},_filter:function(t,e,i){var n,r;return(n=d[o(t).data(c)])?(r=[],o.each(n.waypoints[e],function(t,e){return i(n,e)?r.push(e):void 0}),r.sort(function(t,e){return t.offset-e.offset}),o.map(r,function(t){return t.element})):[]}},o[y]=function(){var t,o;return o=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],h[o]?h[o].apply(null,t):h.aggregate.call(null,o)},o[y].settings={resizeThrottle:100,scrollThrottle:30},n.load(function(){return o[y]("refresh")})})}.call(this),function(){!function(t,e){return"function"==typeof define&&define.amd?define(["jquery","waypoints"],e):e(t.jQuery)}(this,function(t){var e,o;return e={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck"},o=function(t,e){return t.wrap(e.wrapper),t.parent()},t.waypoints("extendFn","sticky",function(i){var n,r,s;return r=t.extend({},t.fn.waypoint.defaults,e,i),n=o(this,r),s=r.handler,r.handler=function(e){var o,i;return o=t(this).children(":first"),i="down"===e||"right"===e,o.toggleClass(r.stuckClass,i),n.height(i?o.outerHeight():""),null!=s?s.call(this,e):void 0},n.waypoint(r),this.data("stuckClass",r.stuckClass)}),t.waypoints("extendFn","unsticky",function(){return this.parent().waypoint("destroy"),this.unwrap(),this.removeClass(this.data("stuckClass"))})})}.call(this),jQuery(document).ready(function(){function t(){if(""!=config.disqus_shortname){var t=config.disqus_shortname;!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()}else 1==config.google_comments&&$.getScript("https://apis.google.com/js/plusone.js").done(function(t,e){gapi.comments.render("g-comments",{href:window.location,width:"760",first_party_property:"BLOGGER",view_type:"FILTERED_POSTMOD"})})}if($("#cover").hasClass("featured")?$(".posts").waypoint(function(t){"down"===t&&($(".profile").addClass("stuck").removeClass("featured"),$(".index").fadeIn(400),$(".backtotop").fadeIn()),"up"===t&&($(".profile").removeClass("stuck").addClass("featured"),$(".index").fadeOut(400),$(".backtotop").fadeOut())}):$("#posttitle, .first").waypoint(function(t){"down"===t&&($(".profile").addClass("stuck"),$(".index").fadeIn(400),$(".backtotop").fadeIn()),"up"===t&&($(".profile").removeClass("stuck"),$(".index").fadeOut(400),$(".backtotop").fadeOut())}),$("#posttitle").length){var e=[];$(".postbody h2").waypoint(function(t){var o=$(this);"down"===t&&$(".index h2").fadeOut(function(){e.push($(".index h2").text()),$(this).text($(o).text()).fadeIn()}),"up"===t&&$(".index h2").fadeOut(function(){$(this).text(e.pop()).fadeIn()})})}jQuery(".postbody").fitVids(),jQuery(".excerpt").fitVids(),(""!=config.disqus_shortname&&null!=config.disqus_shortname&&void 0!=config.disqus_shortname||1==config.google_comments)&&($(".comments").show(),1==config.autoload_comments&&(t(),$(".readmore").fadeOut(400))),$(".readmore").click(function(){t(),$(this).fadeOut(400)}),jQuery(".postbody").readingTime(),jQuery(".inlinemenu ul").hide(),jQuery(".inlinemenu .graybar").click(function(){jQuery(".inlinemenu ul").slideToggle()}),$(".movedown").click(function(){$("html, body").animate({scrollTop:$(".cover").height()},1e3)}),jQuery(".backtotop").click(function(){jQuery("html, body").animate({scrollTop:jQuery("body").offset().top},1e3)}),new $.Zebra_Tooltips($(".tooltips"),{background_color:"#545454"})});